
# Онлайн-магазин объявлений

Добро пожаловать в проект Онлайн-магазин объявлений — веб-приложение, которое позволяет пользователям размещать и просматривать объявления о товарах, общаться с продавцами и покупать интересующие их товары. Этот проект разработан с использованием Node.js, Express, SQLite, и предоставляет базовую функциональность для электронной коммерции.

## Функциональность

- Регистрация и авторизация пользователей: пользователи могут создавать учетные записи, входить в систему и выходить из нее.
- Подтверждение электронной почты: после регистрации пользователи получают письмо с подтверждением для верификации своего адреса электронной почты.
- Профиль пользователя: пользователи могут просматривать и редактировать свой профиль, включая загрузку аватарки.
- Добавление объявлений: авторизованные пользователи могут создавать новые объявления, загружать несколько фотографий товара.
- Просмотр объявлений: главная страница отображает список всех объявлений с возможностью фильтрации и сортировки.
- Детальный просмотр товара: пользователи могут просматривать подробную информацию о товаре, включая описание, цену, фотографии и информацию о продавце.
- Загрузка и отображение изображений: поддерживается загрузка нескольких изображений для одного объявления, которые отображаются на страницах.

## Технологии

### Back-end:
- Node.js
- Express
- SQLite
- bcryptjs для хеширования паролей
- express-session для управления сессиями
- connect-sqlite3 для хранения сессий в базе данных
- nodemailer для отправки писем подтверждения
- multer для загрузки файлов

### Front-end:
- HTML5 и CSS3
- JavaScript (ES6)

### Другое:
- dotenv для управления переменными окружения

## Установка и запуск

### 1. Клонирование репозитория
```
git clone https://github.com/your_username/your_repository.git
```
Перейдите в директорию проекта:
```
cd your_repository
```

### 2. Установка зависимостей
Убедитесь, что у вас установлен Node.js версии 14 или выше. Установите зависимости командой:
```
npm install
```

### 4. Настройка базы данных
База данных SQLite будет создана автоматически при первом запуске сервера. Вам не нужно выполнять дополнительных действий.

### 5. Запуск приложения
Запустите сервер командой:
```
node server.js
```
Приложение будет доступно по адресу http://localhost:3000.

## Структура проекта
- `server.js`: основной серверный файл, содержащий маршруты и логику приложения.
- `public/`: статические файлы (HTML, CSS, клиентский JavaScript).
- `index.html`: главная страница с отображением объявлений.
- `add-ad.html`: страница добавления нового объявления.
- `profile.html`: страница профиля пользователя.
- `product.html`: страница детального просмотра товара.
- `styles.css`: стили приложения.
- `app.js`: клиентский JavaScript для главной страницы.
- `product.js`: клиентский JavaScript для страницы товара.
- `views/`: шаблоны страниц.
- `login.html`: страница входа.
- `register.html`: страница регистрации.
- `avatars/`: папка для хранения аватарок пользователей.
- `ad-images/`: папка для хранения изображений объявлений.

## Использование

### Регистрация и вход
1. Перейдите на страницу регистрации http://localhost:3000/register.
2. Заполните форму регистрации. На указанный email будет отправлено письмо для подтверждения.
3. После подтверждения email вы можете войти в систему на странице http://localhost:3000/login.

### Добавление объявления
1. Войдите в систему.
2. Перейдите на страницу добавления объявления http://localhost:3000/add-ad.
3. Заполните форму, загрузите до 10 изображений и отправьте объявление.
4. Ваше объявление появится на главной странице.

### Просмотр и фильтрация объявлений
1. На главной странице вы можете просматривать список всех объявлений.
2. Используйте фильтры по цене и сортировку для поиска интересующих товаров.
3. Кликните на карточку товара для перехода на страницу с детальной информацией.

### Профиль пользователя
1. Перейдите на страницу профиля http://localhost:3000/profile.
2. Здесь вы можете обновить информацию о себе и загрузить аватарку.

## Требования
- Node.js версии 14 или выше.
- NPM (обычно поставляется вместе с Node.js).
- Аккаунт Gmail для отправки писем подтверждения или настройка другого почтового сервера.

## Безопасность
- Пароли пользователей хранятся в базе данных в виде хешей с использованием bcryptjs.
- Используются сессии для авторизации пользователей.
- Конфиденциальные данные (учетные данные почты, секрет сессий) хранятся в файле .env.

## Известные проблемы
- Отправка писем может не работать, если Gmail блокирует доступ. Возможно, потребуется настроить Менее безопасные приложения или использовать другой почтовый сервис.
- Приложение предназначено для учебных целей и может требовать доработки для использования в продакшене.

## Вклад в проект
Вы можете свободно форкать этот репозиторий, предлагать улучшения и вносить свой вклад в развитие проекта.

## Лицензия
Этот проект распространяется под лицензией MIT. Подробности смотрите в файле LICENSE.

## Контакты
Если у вас есть вопросы или предложения, вы можете связаться со мной по адресу your_email@example.com.

Спасибо за интерес к этому проекту!
